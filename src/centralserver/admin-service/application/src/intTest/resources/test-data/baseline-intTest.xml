<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.9.xsd"
                   logicalFilePath="centerui/003-apikeys.xml">

    <changeSet id="apikey-testdata" author="ricardas">
        <comment>Add default apiKey which can be used for scenarios which do not case about permissions.
            This maps to header value X-ROAD-APIKEY TOKEN=d56e1ca7-4134-4ed4-8030-5f330bdb602a
        </comment>
        <sql>
            -- noinspection SqlResolve
            INSERT INTO apikey
                (id, encodedkey)
            VALUES (1, 'ad26a8235b3e847dc0b9ac34733d5acb39e2b6af634796e7eebe171165cdf2d1');

            INSERT INTO apikey_roles
                (id, apikey_id, role)
            VALUES (1000001, 1, 'XROAD_SYSTEM_ADMINISTRATOR'),
                   (1000002, 1, 'XROAD_SECURITY_OFFICER'),
                   (1000003, 1, 'XROAD_REGISTRATION_OFFICER');
            ALTER SEQUENCE apikey_roles_id_seq RESTART WITH 1001000;

        </sql>
    </changeSet>
</databaseChangeLog>
