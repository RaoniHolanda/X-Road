plugins {
    id 'java-library'
}


configurations {
    liquibaseLibs {
        apply plugin: 'base'
    }
}

dependencies {
//    annotationProcessor( "org.mapstruct:mapstruct-processor:${mapStructVersion}", "org.projectlombok:lombok:${lombokVersion}", "org.projectlombok:lombok-mapstruct-binding:0.2.0","org.hibernate:hibernate-jpamodelgen:${hibernateVersion}")
    annotationProcessor("org.mapstruct:mapstruct-processor:${mapStructVersion}")
    annotationProcessor("org.projectlombok:lombok-mapstruct-binding:0.2.0")
    annotationProcessor("org.hibernate:hibernate-jpamodelgen:${hibernateVersion}")

//    implementation project(':centralserver:admin-service:infra-jpa') //TODO should not depend. Temporary
    api project(':centralserver:admin-service:core-api')
    implementation project(':common-util')
    implementation project(':common-verifier')
    implementation project(':signer-protocol')
    implementation project(':common-ui')
    implementation project(':common-rest-api')

    api('org.springframework.boot:spring-boot-starter-web')
//    api('org.springframework:spring-tx')
//    api('org.springframework.data:spring-data-commons')
    implementation('org.springframework.boot:spring-boot-starter-security')

    implementation("jakarta.persistence:jakarta.persistence-api")
    implementation("jakarta.transaction:jakarta.transaction-api")
//    implementation('org.springframework.boot:spring-boot-starter-data-jpa')
    implementation("org.springframework.boot:spring-boot-starter-cache")
    implementation("org.springframework.boot:spring-boot-starter-validation")

    implementation "org.mapstruct:mapstruct:${mapStructVersion}"
    implementation("io.vavr:vavr:$vavrVersion")

    testImplementation project(':common-test')
    testImplementation(testFixtures(project(":common-rest-api")))
    testImplementation('org.springframework.boot:spring-boot-starter-test')
    testImplementation('org.springframework.security:spring-security-test')
    testImplementation("org.hsqldb:hsqldb:$hsqldbVersion")
    testImplementation('org.liquibase:liquibase-core')
}
